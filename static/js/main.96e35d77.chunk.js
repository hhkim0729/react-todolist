(this["webpackJsonpreact-todolist"]=this["webpackJsonpreact-todolist"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),i=c(7),u=c.n(i),a=(c(12),c(5)),s=c(2),r=(c(13),c(1)),d=Object(n.memo)((function(e){var t=e.addTodo,c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],a=Object(n.useRef)(null);Object(n.useEffect)((function(){a.current.focus(),u("")}),[t]);return Object(r.jsxs)("form",{className:"add-form",children:[Object(r.jsx)("input",{ref:a,value:i,onChange:function(e){u(e.target.value)}}),Object(r.jsx)("button",{type:"submit",onClick:t(i),children:"add"})]})})),l=(c(15),Object(n.memo)((function(e){var t=e.id,c=e.todo,o=e.isChecked,i=e.deleteTodo,u=e.updateTodo,a=e.toggleCheck,d=Object(n.useState)(c),l=Object(s.a)(d,2),j=l[0],f=l[1],b=Object(n.useState)(!1),O=Object(s.a)(b,2),h=O[0],m=O[1],k=Object(n.useRef)(null);Object(n.useEffect)((function(){h&&k.current.focus()}),[h]),Object(n.useEffect)((function(){m(!1)}),[c]);return Object(r.jsxs)("li",{className:"list",children:[Object(r.jsx)("span",{className:"check",onClick:a(t),children:o?"\u25fc":"\u25fb"}),h||Object(r.jsx)("span",{className:"todo ".concat(o?"checked":""),onClick:function(){m(!0)},children:c}),h&&Object(r.jsx)("form",{className:"update-form",onSubmit:function(e){e.preventDefault(),m(!1),j?c!==j&&u(t,j,o):f(c)},children:Object(r.jsx)("input",{ref:k,value:j,onChange:function(e){f(e.target.value)},onBlur:function(){m(!1)},onKeyUp:function(e){"Escape"===e.key&&m(!1)}})}),Object(r.jsx)("button",{onClick:i(t),children:"X"})]})}))),j=(c(16),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],o=t[1],i=Object(n.useState)(0),u=Object(s.a)(i,2),j=u[0],f=u[1],b=Object(n.useRef)(!0);Object(n.useEffect)((function(){b.current||(localStorage.setItem("todoList",JSON.stringify(c)),localStorage.setItem("id",j))}),[c,j]),Object(n.useEffect)((function(){var e=localStorage.getItem("todoList");e&&o(JSON.parse(e));var t=localStorage.getItem("id");t&&f(parseInt(t)),b.current=!1}),[]);var O=Object(n.useCallback)((function(e){return function(t){console.log("add"),t.preventDefault(),e&&(o((function(t){return[].concat(Object(a.a)(t),[{id:j,todo:e,isChecked:!1}])})),f((function(e){return e+1})))}}),[j]),h=Object(n.useCallback)((function(e,t,n){var i=c.findIndex((function(t){return t.id===e})),u=Object(a.a)(c);u.splice(i,1,{id:e,todo:t,isChecked:n}),o(u)}),[c]),m=Object(n.useCallback)((function(e){return function(){var t=c.filter((function(t){return t.id!==e}));o(t)}}),[c]),k=Object(n.useCallback)((function(e){return function(){var t=c.findIndex((function(t){return t.id===e})),n=Object(a.a)(c);n[t].isChecked=!n[t].isChecked,o(n)}}),[c]);return Object(r.jsx)("div",{className:"box",children:Object(r.jsxs)("div",{className:"todolist-box",children:[Object(r.jsx)("h1",{children:"things to do"}),Object(r.jsx)(d,{addTodo:O}),Object(r.jsx)("ul",{children:c.map((function(e){return Object(r.jsx)(l,{id:e.id,todo:e.todo,isChecked:e.isChecked,updateTodo:h,deleteTodo:m,toggleCheck:k},e.id)}))})]})})});u.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(j,{})}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.96e35d77.chunk.js.map